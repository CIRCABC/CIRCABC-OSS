<?xml version='1.0' encoding='UTF-8'?>

<!--  From config1    -->
<web-app xmlns="http://java.sun.com/xml/ns/j2ee"
    xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
    xsi:schemaLocation="http://java.sun.com/xml/ns/j2ee http://java.sun.com/xml/ns/j2ee/web-app_2_4.xsd"
    version="2.4">

   <display-name>Alfresco Web Client</display-name>

   <description>Alfresco Web Client</description>

   <context-param>
      <param-name>org.jboss.jbossfaces.WAR_BUNDLES_JSF_IMPL</param-name>
      <param-value>true</param-value>
   </context-param>

   <context-param>
      <param-name>javax.faces.STATE_SAVING_METHOD</param-name>
      <param-value>server</param-value>
   </context-param>

   <context-param>
      <param-name>javax.faces.PARTIAL_STATE_SAVING_METHOD</param-name>
      <param-value>false</param-value>
   </context-param>

   <context-param>
      <param-name>javax.faces.CONFIG_FILES</param-name>
      <param-value>/WEB-INF/faces-config-app.xml,/WEB-INF/faces-config-beans.xml,/WEB-INF/faces-config-navigation.xml,/WEB-INF/faces-config-common.xml,/WEB-INF/faces-config-repo.xml,/WEB-INF/faces-config-wcm.xml,/WEB-INF/faces-config-custom.xml,/WEB-INF/classes/alfresco/extension/circabc-faces-config-custom.xml</param-value>
   </context-param>

   <context-param>
      <param-name>org.apache.myfaces.ALLOW_JAVASCRIPT</param-name>
      <param-value>true</param-value>
   </context-param>

   <context-param>
      <description>This is an EXPERIMENTAL feature, so leave it off for now!</description>
      <param-name>org.apache.myfaces.DETECT_JAVASCRIPT</param-name>
      <param-value>false</param-value>
   </context-param>

   <context-param>
      <description>Stop MyFaces from Serializing the state to the session</description>
      <param-name>org.apache.myfaces.SERIALIZE_STATE_IN_SESSION</param-name>
      <param-value>false</param-value>
   </context-param>

    <!-- TODO: Change this to false for production -->
    <context-param>
        <description>
            If true, rendered HTML code will be formatted, so that it is "human readable".
            i.e. additional line separators and whitespace will be written, that do not
            influence the HTML code.
            Default: "true"
        </description>
        <param-name>org.apache.myfaces.PRETTY_HTML</param-name>
        <param-value>true</param-value>
    </context-param>

    <context-param>
        <description>
            If true, a javascript function will be rendered that is able to restore the
            former vertical scroll on every request. Convenient feature if you have pages
            with long lists and you do not want the browser page to always jump to the top
            if you trigger a link or button action that stays on the same page.
            Default: "false"
        </description>
        <param-name>org.apache.myfaces.AUTO_SCROLL</param-name>
        <param-value>false</param-value>
    </context-param>

   <!-- Spring Application Context location -->
   <context-param>
      <description>Spring config file location</description>
      <param-name>contextConfigLocation</param-name>
      <param-value>/WEB-INF/web-application-context.xml</param-value>
   </context-param>
   
   <context-param>
      <description>Do not try to resolve web app root as file</description>
      <param-name>log4jExposeWebAppRoot</param-name>
      <param-value>false</param-value>
   </context-param>

	<!--  These were previously init params for the WebDAV servlet,
	      but since they are also needed to MT-enable the 
	      ExternalAccess servlet, I have made them context wide. -->
   <context-param>
         <param-name>store</param-name>
         <param-value>workspace://SpacesStore</param-value>
   </context-param>
   <context-param>
         <param-name>rootPath</param-name>
         <param-value>/app:company_home</param-value>
   </context-param>
   	<!--  put CIRCAB root to be WebDAV root   -->
   
   <context-param>
      <param-name>org.apache.myfaces.ERROR_HANDLING</param-name>
      <param-value>false</param-value>
   </context-param>
	
   <context-param><description>Vaadin production mode</description><param-name>productionMode</param-name><param-value>true</param-value></context-param>

   <filter>
      <description>Cleans security context before authentication via the CMIS services or filters. Mapped only for CMIS</description>
      <filter-name>CMIS security context cleaning filter</filter-name>
      <filter-class>org.alfresco.web.app.servlet.CmisSecurityContextCleanerFilter</filter-class>
   </filter>

   <filter>
      <description>Authentication filter mapped only to faces URLs. Other URLs generally use proprietary means to talk to the AuthenticationComponent</description>
      <filter-name>Authentication Filter</filter-name>
      <filter-class>org.alfresco.repo.web.filter.beans.BeanProxyFilter</filter-class>
      <init-param>
         <param-name>beanName</param-name>
         <param-value>AuthenticationFilter</param-value>
      </init-param>
   </filter>

   <filter>
      <description>Authentication filter mapped to all authenticated URLs. Mainly for SSO support</description>
      <filter-name>Global Authentication Filter</filter-name>
      <filter-class>org.alfresco.repo.web.filter.beans.BeanProxyFilter</filter-class>
      <init-param>
         <param-name>beanName</param-name>
         <param-value>GlobalAuthenticationFilter</param-value>
      </init-param>
   </filter>
   
   <filter>
      <description>Authentication filter mapped to web script URLs. Mainly for SSO support</description>
      <filter-name>WebScript Authentication Filter</filter-name>
      <filter-class>org.alfresco.repo.web.filter.beans.BeanProxyFilter</filter-class>
      <init-param>
         <param-name>beanName</param-name>
         <param-value>WebscriptAuthenticationFilter</param-value>
      </init-param>
   </filter>
   
   <filter>
      <description>Directly handles login script calls, allowing Surf to establish a cookie for a manual login</description>
      <filter-name>WebScript Cookie Authentication Filter</filter-name>
      <filter-class>org.alfresco.repo.web.filter.beans.BeanProxyFilter</filter-class>
      <init-param>
         <param-name>beanName</param-name>
         <param-value>WebscriptCookieAuthenticationFilter</param-value>
      </init-param>
   </filter>
      
   <filter>
      <filter-name>WebDAV Authentication Filter</filter-name>
      <filter-class>org.alfresco.repo.web.filter.beans.BeanProxyFilter</filter-class>
      <init-param>
         <param-name>beanName</param-name>
         <param-value>WebDavAuthenticationFilter</param-value>
      </init-param>
   </filter>
   
   <filter>
      <filter-name>Admin Authentication Filter</filter-name>
      <filter-class>org.alfresco.web.app.servlet.AdminAuthenticationFilter</filter-class>
   </filter>
   
   <filter>
      <description>Sets fallback default locale for ALL requests</description>
      <filter-name>Global Localization Filter</filter-name>
      <filter-class>org.alfresco.web.app.servlet.GlobalLocalizationFilter</filter-class>
   </filter>

   <filter>
      <filter-name>CIRCABC JSF Session Synchronized Filter</filter-name>
      <filter-class>eu.cec.digit.circabc.web.servlet.CircabcSessionSynchronizedFilter</filter-class>
   </filter>
   
   <filter>
      <filter-name>Encode Survey Filter</filter-name>
      <filter-class>eu.cec.digit.circabc.web.servlet.EncodeSurveyFilter</filter-class>
   </filter>
   
      
   <filter>
      <description>Filter mapping to try to speed up ecas login</description>
      <filter-name>Login Bean Filter</filter-name>
      <filter-class>org.alfresco.repo.web.filter.beans.BeanProxyFilter</filter-class>
      <init-param>
         <param-name>beanName</param-name>
         <param-value>LoginBeanFilter</param-value>
      </init-param>
   </filter>

	  <filter>
      <filter-name>OfficeLinkFilter</filter-name>
      <filter-class>eu.cec.digit.circabc.web.servlet.OfficeLinkFilter</filter-class>
    </filter>

  <filter>
    <filter-name>DisableBAFilter</filter-name>
    <filter-class>eu.cec.digit.circabc.web.servlet.DisableBasicAuthenicationPopupFilter</filter-class>
  </filter>
   
     <!-- Add for tomahawk -->
    <filter>
      <filter-name>MyFacesExtensionsFilter</filter-name>
     <filter-class>org.apache.myfaces.webapp.filter.ExtensionsFilter</filter-class>
        <init-param>
            <description>Set the size limit for uploaded files.
                Format: 10 - 10 bytes
                        10k - 10 KB
                        10m - 10 MB
                        1g - 1 GB
            </description>
            <param-name>uploadMaxFileSize</param-name>
            <param-value>1g</param-value>
        </init-param>
        <init-param>
            <param-name>uploadThresholdSize</param-name>
            <param-value>100k</param-value>
        </init-param>
    </filter>

	<filter>
		<filter-name>monitoring</filter-name>
		<filter-class>net.bull.javamelody.MonitoringFilter</filter-class>
		<init-param>
			<param-name>quartz-default-listener-disabled</param-name>
			<param-value>true</param-value>
		</init-param> 
	</filter>

    <filter>
         <filter-name>ClickjackFilterSameOrigin</filter-name>
         <filter-class>eu.cec.digit.circabc.web.app.servlet.CircabcClickjackFilter</filter-class>
         <init-param>
             <param-name>mode</param-name>
             <param-value>SAMEORIGIN</param-value>
         </init-param>
     </filter>
    
	 <!--<filter>-->
	     <!--<filter-name>CORS</filter-name>-->
	       <!--<filter-class>com.thetransactioncompany.cors.CORSFilter</filter-class>-->
	       <!--<init-param>-->
	             <!--<param-name>cors.supportedMethods</param-name>-->
	             <!--<param-value>GET, POST, HEAD, OPTIONS, DELETE, PUT</param-value>-->
	       <!--</init-param>-->
	       <!--<init-param>-->
	             <!--<param-name>cors.allowOrigin</param-name>-->
	             <!--<param-value>http://vs-cbc-docker.net1.cec.eu.int:3000 http://vs-cbc-docker.net1.cec.eu.int:3002 http://vs-cbc-docker.net1.cec.eu.int:4200 http://localhost:4200 http://d02di1335292dit.net1.cec.eu.int:4200</param-value>-->
	       <!--</init-param>-->
	 <!--</filter>-->
	
	 <!--<filter-mapping>-->
	       <!--<filter-name>CORS</filter-name>-->
	       <!--<url-pattern>/*</url-pattern>-->
	 <!--</filter-mapping>-->
     
    <filter-mapping> 
        <filter-name>ClickjackFilterSameOrigin</filter-name>
         <url-pattern>/*</url-pattern>
     </filter-mapping>

<!-- 	<filter> -->
<!-- 		<filter-name>MultiAuthorization Filter</filter-name> -->
<!-- 		<filter-class>eu.cec.digit.ecas.client.filter.MultiFactorAuthorizationFilter</filter-class> -->
<!-- 	</filter> -->

<!-- 	<filter-mapping> -->
<!-- 		<filter-name>MultiAuthorization Filter</filter-name> -->
<!-- 		<url-pattern>/faces/jsp/extension/wai/multifactor.jsp</url-pattern> -->
<!-- 	</filter-mapping> -->

	<!-- Filter mapping to try to speed up ecas login -->
	<filter-mapping>
		<filter-name>Login Bean Filter</filter-name>
		<url-pattern>/faces/jsp/extension/wai/ecas/ecaslogin.jsp</url-pattern>
  </filter-mapping>
	<filter-mapping>
      <filter-name>Admin Authentication Filter</filter-name>
      <url-pattern>/monitoring</url-pattern>
   </filter-mapping>
   <filter-mapping>
      <filter-name>Admin Authentication Filter</filter-name>
      <url-pattern>/monitoring/*</url-pattern>
   </filter-mapping>
	
	<filter-mapping>
		<filter-name>monitoring</filter-name>
		<url-pattern>/*</url-pattern>
	</filter-mapping>
	<listener>
		<listener-class>net.bull.javamelody.SessionListener</listener-class>
	</listener>

	<listener>
		<listener-class>eu.cec.digit.circabc.web.servlet.CircabcSessionListener</listener-class>
	</listener>


    <!-- Add for tomahawk: extension mapping for adding <script/>, <link/>, and other resource tags to JSF-pages  -->
    <filter-mapping>
        <filter-name>MyFacesExtensionsFilter</filter-name>
        <!-- servlet-name must match the name of your javax.faces.webapp.FacesServlet entry -->
        <servlet-name>Faces Servlet</servlet-name>
    </filter-mapping>

    <!-- Add for tomahawk: extension mapping for serving page-independent resources (javascript, stylesheets, images, etc.)  -->
    <filter-mapping>
        <filter-name>MyFacesExtensionsFilter</filter-name>
        <url-pattern>/faces/myFacesExtensionResource/*</url-pattern>
    </filter-mapping>



 
   <filter-mapping>
      <filter-name>Global Localization Filter</filter-name>
      <url-pattern>/*</url-pattern>
      <dispatcher>REQUEST</dispatcher>
   </filter-mapping>

   <filter-mapping>
      <filter-name>CMIS security context cleaning filter</filter-name>
      <url-pattern>/cmisws/*</url-pattern>
   </filter-mapping>

   <filter-mapping>
      <filter-name>CMIS security context cleaning filter</filter-name>
      <url-pattern>/cmisatom/*</url-pattern>
   </filter-mapping>
<!--
   <filter-mapping>
      <filter-name>Global Authentication Filter</filter-name>
      <url-pattern>/navigate/*</url-pattern>
   </filter-mapping>

   <filter-mapping>
      <filter-name>Global Authentication Filter</filter-name>
      <url-pattern>/command/*</url-pattern>
   </filter-mapping>

   <filter-mapping>
      <filter-name>Global Authentication Filter</filter-name>
      <url-pattern>/download/*</url-pattern>
   </filter-mapping>
   
   <filter-mapping>
      <filter-name>Global Authentication Filter</filter-name>
      <url-pattern>/template/*</url-pattern>
   </filter-mapping>
   
   <filter-mapping>
      <filter-name>Global Authentication Filter</filter-name>
      <url-pattern>/n/*</url-pattern>
   </filter-mapping>
   
   <filter-mapping>
      <filter-name>Global Authentication Filter</filter-name>
      <url-pattern>/c/*</url-pattern>
   </filter-mapping>

   <filter-mapping>
      <filter-name>Global Authentication Filter</filter-name>
      <url-pattern>/t/*</url-pattern>
   </filter-mapping>
   
   <filter-mapping>
      <filter-name>Global Authentication Filter</filter-name>
      <url-pattern>/d/*</url-pattern>
   </filter-mapping>
   
   <filter-mapping><filter-name>Global Authentication Filter</filter-name><url-pattern>/activiti-admin/*</url-pattern></filter-mapping>
   <filter-mapping><filter-name>Global Authentication Filter</filter-name><url-pattern>/VAADIN/*</url-pattern></filter-mapping>

   - The Cookie WebScript Authentication filter sits in front of web service URLs in addition to the global authentication filter -  
   <filter-mapping>
      <filter-name>WebScript Cookie Authentication Filter</filter-name>
      <url-pattern>/wcservice/*</url-pattern>
   </filter-mapping>
   
   <filter-mapping>
      <filter-name>WebScript Cookie Authentication Filter</filter-name>
      <url-pattern>/wcs/*</url-pattern>
   </filter-mapping>
   
   - The WebScript Authentication filter sits in front of web service URLs in addition to the global authentication filter -
   <filter-mapping>
      <filter-name>WebScript Authentication Filter</filter-name>
      <url-pattern>/wcservice/*</url-pattern>
   </filter-mapping>
   
   <filter-mapping>
      <filter-name>WebScript Authentication Filter</filter-name>
      <url-pattern>/wcs/*</url-pattern>
   </filter-mapping>
   
   <filter-mapping>
      <filter-name>Global Authentication Filter</filter-name>
      <url-pattern>/wcservice/*</url-pattern>
   </filter-mapping>
   
   <filter-mapping>
      <filter-name>Global Authentication Filter</filter-name>
      <url-pattern>/wcs/*</url-pattern>
   </filter-mapping>

   <filter-mapping>
      <filter-name>Global Authentication Filter</filter-name>
      <url-pattern>/ajax/*</url-pattern>
   </filter-mapping>
   -->
   
   <filter-mapping>
      <filter-name>Encode Survey Filter</filter-name>
      <url-pattern>/faces/jsp/extension/surveys/dispatch</url-pattern>
   </filter-mapping>

   <filter-mapping>
      <filter-name>Encode Survey Filter</filter-name>
      <url-pattern>/faces/jsp/extension/wai/navigation/dispatch</url-pattern>
   </filter-mapping>

   <filter-mapping>
      <filter-name>Encode Survey Filter</filter-name>
      <url-pattern>/faces/jsp/extension/wai/navigation/surveys/dispatch</url-pattern>
   </filter-mapping>

   <filter-mapping>
      <filter-name>Authentication Filter</filter-name>
      <url-pattern>/w/*</url-pattern>
   </filter-mapping>
   
   <filter-mapping>
      <filter-name>OfficeLinkFilter</filter-name>
      <url-pattern>/w/*</url-pattern>
   </filter-mapping>

   <filter-mapping>
     <filter-name>DisableBAFilter</filter-name>
     <url-pattern>/service/api/*</url-pattern>
   </filter-mapping>
   
   <filter-mapping>
     <filter-name>DisableBAFilter</filter-name>
     <url-pattern>/service/circabc/*</url-pattern>
   </filter-mapping>
	
   

   <filter-mapping>
      <filter-name>Global Authentication Filter</filter-name>
      <url-pattern>/faces/*</url-pattern>
   </filter-mapping>

   <filter-mapping>
      <filter-name>Authentication Filter</filter-name>
      <url-pattern>/faces/*</url-pattern>
   </filter-mapping>

	<filter-mapping>
      <filter-name>OfficeLinkFilter</filter-name>
      <url-pattern>/webdav/*</url-pattern>
   </filter-mapping>
   
   <filter-mapping>
      <filter-name>OfficeLinkFilter</filter-name>
      <url-pattern>/d/*</url-pattern>
   </filter-mapping>
   
   <filter-mapping>
      <filter-name>OfficeLinkFilter</filter-name>
      <url-pattern>/sd/*</url-pattern>
   </filter-mapping>

   <filter-mapping>
      <filter-name>WebDAV Authentication Filter</filter-name>
      <url-pattern>/webdav/*</url-pattern>
   </filter-mapping>

   <filter-mapping>
      <filter-name>Admin Authentication Filter</filter-name>
      <url-pattern>/faces/jsp/admin/*</url-pattern>
   </filter-mapping>

   <filter-mapping>
      <filter-name>Admin Authentication Filter</filter-name>
      <url-pattern>/faces/jsp/categories/*</url-pattern>
   </filter-mapping>

   <filter-mapping>
      <filter-name>Admin Authentication Filter</filter-name>
      <url-pattern>/faces/jsp/groups/*</url-pattern>
   </filter-mapping>

   <filter-mapping>
      <filter-name>Admin Authentication Filter</filter-name>
      <url-pattern>/faces/jsp/users/delete-user.jsp</url-pattern>
   </filter-mapping>

   <filter-mapping>
      <filter-name>Admin Authentication Filter</filter-name>
      <url-pattern>/faces/jsp/users/users.jsp</url-pattern>
   </filter-mapping>

   <filter-mapping>
      <filter-name>Admin Authentication Filter</filter-name>
      <url-pattern>/faces/jsp/admin/system-info.jsp</url-pattern>
   </filter-mapping>
   
   <filter-mapping>
      <filter-name>CIRCABC JSF Session Synchronized Filter</filter-name>
      <url-pattern>/faces/*</url-pattern>
   </filter-mapping>
   
   <filter-mapping>
      <filter-name>WebDAV Authentication Filter</filter-name>
      <url-pattern>/cmisatom/*</url-pattern>
   </filter-mapping>

   <listener>
      <listener-class>org.apache.myfaces.webapp.StartupServletContextListener</listener-class>
   </listener>
	
   <listener>
      <listener-class>org.springframework.web.util.Log4jConfigListener</listener-class>
   </listener>
   
   <!-- Spring Context Loader listener - can disable loading of context if runtime config changes are needed -->
   <listener>
      <listener-class>org.alfresco.web.app.ContextLoaderListener</listener-class>
   </listener>

   <!-- Web Application Context listener - session create/destroy debugging and bootstrap Spring init -->
   <listener>
      <listener-class>org.alfresco.web.app.ContextListener</listener-class>
   </listener>

   <!-- WebDAV session listener - ensures that no locked resources is left after session expires -->
   <listener>
      <listener-class>org.alfresco.repo.webdav.WebDAVSessionListener</listener-class>
   </listener>

   <!-- Web Services context listener for OpenCMIS -->
   <listener>
        <listener-class>com.sun.xml.ws.transport.http.servlet.WSServletContextListener</listener-class>
   </listener> 
   
   <!-- ECAS proxy cache for the HRS client (Hermes) -->
   <listener>
      <listener-class>eu.cec.digit.ecas.client.proxy.ProxyCacheInit</listener-class>
   </listener>
   
   <!-- ECAS proxy ticket receptor for the HRS client (Hermes) -->
   <servlet>
      <servlet-name>ProxyTicketReceptor</servlet-name>
      <servlet-class>eu.cec.digit.ecas.client.proxy.EcasProxyTicketReceptor</servlet-class>
   </servlet>
   
   <listener><listener-class>org.springframework.web.context.request.RequestContextListener</listener-class></listener>
   
   <!-- Faces Servlet -->
   <servlet>
      <servlet-name>Faces Servlet</servlet-name>
      <servlet-class>javax.faces.webapp.FacesServlet</servlet-class>
      <load-on-startup>1</load-on-startup>
   </servlet>

   <servlet>
      <servlet-name>uploadFile</servlet-name>
<!--       <servlet-class>org.alfresco.web.app.servlet.UploadFileServlet</servlet-class> -->
      <servlet-class>eu.cec.digit.circabc.web.servlet.UploadFileServlet</servlet-class>
   </servlet>

   <servlet>
      <servlet-name>uploadContent</servlet-name>
      <servlet-class>org.alfresco.web.app.servlet.UploadContentServlet</servlet-class>
   </servlet>

   <servlet>
      <servlet-name>downloadContent</servlet-name>
<!--       <servlet-class>org.alfresco.web.app.servlet.DownloadContentServlet</servlet-class> -->
      <servlet-class>eu.cec.digit.circabc.web.servlet.CircabcDownloadContentServlet</servlet-class>
   </servlet>

   <servlet>
      <servlet-name>simpleDownloadContent</servlet-name>
      <servlet-class>eu.cec.digit.circabc.web.servlet.SimpleDownloadServlet</servlet-class>
   </servlet>

   <servlet>
      <servlet-name>downloadRawContent</servlet-name>
      <servlet-class>org.alfresco.web.app.servlet.DownloadRawContentServlet</servlet-class>
   </servlet>

   <servlet>
      <servlet-name>bulkDownloadContent</servlet-name>
      <servlet-class>eu.cec.digit.circabc.web.servlet.BulkDownloadServlet</servlet-class>
   </servlet>

   <servlet>
      <servlet-name>guestDownloadContent</servlet-name>
      <servlet-class>org.alfresco.web.app.servlet.GuestDownloadContentServlet</servlet-class>
   </servlet>

   <servlet>
      <servlet-name>guestTemplateContent</servlet-name>
      <servlet-class>org.alfresco.web.app.servlet.GuestTemplateContentServlet</servlet-class>
   </servlet>

   <servlet>
      <servlet-name>externalAccess</servlet-name>
      <servlet-class>org.alfresco.web.app.servlet.ExternalAccessServlet</servlet-class>
   </servlet>

   <servlet>
      <servlet-name>waiExternalAccess</servlet-name>
      <servlet-class>eu.cec.digit.circabc.web.servlet.ExternalAccessServlet</servlet-class>
   </servlet>

   <servlet>
      <servlet-name>templateContent</servlet-name>
      <servlet-class>org.alfresco.web.app.servlet.TemplateContentServlet</servlet-class>
   </servlet>

   <servlet>
      <servlet-name>commandServlet</servlet-name>
      <servlet-class>org.alfresco.web.app.servlet.CommandServlet</servlet-class>
   </servlet>

   <servlet>
      <servlet-name>ajaxServlet</servlet-name>
      <servlet-class>org.alfresco.web.app.servlet.ajax.AjaxServlet</servlet-class>
   </servlet>

   <servlet>
      <servlet-name>axis</servlet-name>
      <servlet-class>org.apache.axis.transport.http.AxisServlet</servlet-class>
      <load-on-startup>5</load-on-startup>
   </servlet>

   <servlet>
      <servlet-name>CXFServlet</servlet-name>
      <servlet-class>org.apache.cxf.transport.servlet.CXFServlet</servlet-class>
      <load-on-startup>6</load-on-startup>
   </servlet>

   <servlet>
      <servlet-name>WebDAV</servlet-name>
      <servlet-class>org.alfresco.repo.webdav.WebDAVServlet</servlet-class>
      <load-on-startup>5</load-on-startup>
   </servlet>

   <servlet>
      <servlet-name>apiServlet</servlet-name>
      <servlet-class>org.springframework.extensions.webscripts.servlet.WebScriptServlet</servlet-class>
      <init-param>
         <param-name>authenticator</param-name>
         <param-value>webscripts.authenticator.basic</param-value>
      </init-param>
   </servlet>

   <servlet>
      <servlet-name>wcapiServlet</servlet-name>
      <servlet-class>org.springframework.extensions.webscripts.servlet.WebScriptServlet</servlet-class>
      <init-param>
         <param-name>authenticator</param-name>
         <param-value>webscripts.authenticator.webclient</param-value>
      </init-param>
   </servlet>

   <servlet>
      <servlet-name>portalapiServlet</servlet-name>
      <servlet-class>org.springframework.extensions.webscripts.servlet.WebScriptServlet</servlet-class>
      <init-param>
         <param-name>authenticator</param-name>
         <param-value>webscripts.authenticator.webclient</param-value>
      </init-param>
   </servlet>

   <servlet>
      <servlet-name>facebookServlet</servlet-name>
      <servlet-class>org.alfresco.repo.web.scripts.facebook.FacebookServlet</servlet-class>
      <init-param>
         <param-name>authenticator</param-name>
         <param-value>webscripts.authenticator.facebook</param-value>
      </init-param>
   </servlet>

   <servlet>
      <servlet-name>fbapiServlet</servlet-name>
      <servlet-class>org.alfresco.repo.web.scripts.facebook.FacebookAPIServlet</servlet-class>
      <init-param>
         <param-name>authenticator</param-name>
         <param-value>webscripts.authenticator.facebook</param-value>
      </init-param>
   </servlet>

   <servlet>
      <servlet-name>workflowDefinitionImageServlet</servlet-name>
      <servlet-class>org.alfresco.web.app.servlet.WorkflowDefinitionImageServlet</servlet-class>
   </servlet>

<!--    <servlet> -->
<!--       <servlet-name>JBPMDeployProcessServlet</servlet-name> -->
<!--       <servlet-class>org.alfresco.web.app.servlet.JBPMDeployProcessServlet</servlet-class> -->
<!--    </servlet> -->

	<!--  weblogic    -->
	<!-- PostFormAuthDispatcher Servlet -->
    <servlet>
        <servlet-name>PostFormAuthDispatcher</servlet-name>
        <servlet-class>eu.cec.digit.ecas.client.servlet.PostFormAuthDispatcher</servlet-class>
    </servlet>
	
    <servlet>
      <servlet-name>notifySuccessServlet</servlet-name>
      <servlet-class>eu.cec.digit.circabc.web.servlet.NotifySuccessServlet</servlet-class>
   </servlet>
   
   <servlet>
      <servlet-name>notifyErrorServlet</servlet-name>
      <servlet-class>eu.cec.digit.circabc.web.servlet.NotifyErrorServlet</servlet-class>
   </servlet>
    
   <!-- See comment on the servlet-mapping CMISFileShareServlet.
   <servlet>
      <servlet-name>CMISFileShareServlet</servlet-name>
      <servlet-class>org.apache.chemistry.opencmis.browser.BrowseServlet</servlet-class>
      <init-param>
         <param-name>auxroot</param-name>
         <param-value>cmisfs/browser/</param-value>
      </init-param>
      <init-param>
         <param-name>allow</param-name>
         <param-value>http.*</param-value>
      </init-param>
      <init-param>
         <param-name>stylesheet:application/atomsvc+xml</param-name>
         <param-value>/cmisfs/stylesheets/service.xsl</param-value>
      </init-param>
      <init-param>
         <param-name>stylesheet:application/atom+xml;type=feed</param-name>
         <param-value>/cmisfs/stylesheets/feed.xsl</param-value>
      </init-param>
      <init-param>
         <param-name>stylesheet:application/atom+xml; type=feed</param-name>
         <param-value>/cmisfs/stylesheets/feed.xsl</param-value>
      </init-param>
      <init-param>
         <param-name>stylesheet:application/cmistree+xml</param-name>
         <param-value>/cmisfs/stylesheets/feed.xsl</param-value>
      </init-param>
      <init-param>
         <param-name>stylesheet:application/atom+xml;type=entry</param-name>
         <param-value>/cmisfs/stylesheets/entry.xsl</param-value>
      </init-param>
      <init-param>
         <param-name>stylesheet:application/cmisallowableactions+xml</param-name>
         <param-value>/cmisfs/stylesheets/actions.xsl</param-value>
      </init-param>
      <init-param>
         <param-name>stylesheet:application/cmisacl+xml</param-name>
         <param-value>/cmisfs/stylesheets/acl.xsl</param-value>
      </init-param>
      <init-param>
         <param-name>override-stylesheet:renditions</param-name>
         <param-value>/cmisfs/stylesheets/renditions.xsl</param-value>
      </init-param>
      <init-param>
         <param-name>override-stylesheet:relationships</param-name>
         <param-value>/cmisfs/stylesheets/relationships.xsl</param-value>
      </init-param>
      <init-param>
         <param-name>override-stylesheet:thumbnails</param-name>
         <param-value>/cmisfs/stylesheets/thumbnails.xsl</param-value>
      </init-param>
   </servlet>
	-->
	
    <servlet>
        <servlet-name>cmisws10</servlet-name>
        <servlet-class>org.apache.chemistry.opencmis.server.impl.webservices.CmisWebServicesServlet</servlet-class>
        <init-param>
            <param-name>cmisVersion</param-name>
            <param-value>1.0</param-value>
        </init-param>
        <load-on-startup>7</load-on-startup>
    </servlet>
    
    <servlet>
        <servlet-name>cmisws11</servlet-name>
        <servlet-class>org.apache.chemistry.opencmis.server.impl.webservices.CmisWebServicesServlet</servlet-class>
        <init-param>
            <param-name>cmisVersion</param-name>
            <param-value>1.1</param-value>
        </init-param>
        <load-on-startup>7</load-on-startup>
    </servlet>

    <servlet>
        <servlet-name>cmisatom10</servlet-name>
        <servlet-class>org.apache.chemistry.opencmis.server.impl.atompub.CmisAtomPubServlet</servlet-class>
        <init-param>
            <param-name>callContextHandler</param-name>
            <param-value>org.apache.chemistry.opencmis.server.shared.BasicAuthCallContextHandler</param-value>
        </init-param>
        <init-param>
            <param-name>cmisVersion</param-name>
            <param-value>1.0</param-value>
        </init-param>
        <load-on-startup>8</load-on-startup>
    </servlet>

    <servlet>
        <servlet-name>cmisbrowser</servlet-name>
        <servlet-class>org.apache.chemistry.opencmis.server.impl.browser.CmisBrowserBindingServlet</servlet-class>
        <init-param>
            <param-name>callContextHandler</param-name>
            <param-value>org.apache.chemistry.opencmis.server.shared.BasicAuthCallContextHandler</param-value>
        </init-param>
        <load-on-startup>8</load-on-startup>
    </servlet>

   <servlet>
      <servlet-name>cmistck</servlet-name>
      <servlet-class>org.apache.chemistry.opencmis.tck.runner.WebRunnerServlet</servlet-class>
      <load-on-startup>8</load-on-startup>
   </servlet>

   <servlet>
      <servlet-name>authenticatorServlet</servlet-name>
      <servlet-class>org.alfresco.repo.web.scripts.servlet.AuthenticatorServlet</servlet-class>
   </servlet>

   <servlet>
      <servlet-name>publicapiServlet</servlet-name>
      <servlet-class>org.alfresco.rest.api.PublicApiWebScriptServlet</servlet-class>
      <init-param>
         <param-name>authenticator</param-name>
         <param-value>publicapi.authenticator</param-value>
      </init-param>
   </servlet>
	
   <!-- For the document preview -->
   <servlet>
      <servlet-name>aresBridgeServlet</servlet-name>
      <servlet-class>eu.cec.digit.circabc.web.servlet.AresBridgeServlet</servlet-class>
   </servlet>
   <servlet>
      <servlet-name>translationsServlet</servlet-name>
      <servlet-class>eu.cec.digit.circabc.web.servlet.TranslationsJSONServlet</servlet-class>
   </servlet>
   <servlet>
      <servlet-name>pdfRenditionServlet</servlet-name>
      <servlet-class>eu.cec.digit.circabc.web.servlet.PDFRenditionServlet</servlet-class>
   </servlet>
  <servlet>
    <servlet-name>EULoginServlet</servlet-name>
    <servlet-class>eu.cec.digit.circabc.web.servlet.EULoginServlet</servlet-class>
  </servlet>
  <servlet>
    <servlet-name>EULogoutServlet</servlet-name>
    <servlet-class>eu.cec.digit.circabc.web.servlet.EULogoutServlet</servlet-class>
  </servlet>

   <servlet-mapping>
     <servlet-name>aresBridgeServlet</servlet-name>
     <url-pattern>/aresbridge/*</url-pattern>
   </servlet-mapping>
   <servlet-mapping>
     <servlet-name>translationsServlet</servlet-name>
     <url-pattern>/translations</url-pattern>
   </servlet-mapping>
   <servlet-mapping>
     <servlet-name>pdfRenditionServlet</servlet-name>
     <url-pattern>/pdfRendition</url-pattern>
   </servlet-mapping>
  <servlet-mapping>
    <servlet-name>EULoginServlet</servlet-name>
    <url-pattern>/eulogin</url-pattern>
  </servlet-mapping>
  <servlet-mapping>
  <servlet-name>EULogoutServlet</servlet-name>
    <url-pattern>/eulogout</url-pattern>
  </servlet-mapping>

   <!-- ECAS proxy ticket receptor mapping for the HRS client (Hermes) -->
   <servlet-mapping>
     <servlet-name>ProxyTicketReceptor</servlet-name>
     <!-- this url pattern needs to match the end of the proxyCallbackUrl in ecas-config-*.xml -->
     <url-pattern>/ecasProxy</url-pattern>
   </servlet-mapping>
   
   <servlet-mapping>
      <servlet-name>Faces Servlet</servlet-name>
      <url-pattern>/faces/*</url-pattern>
   </servlet-mapping>

   <servlet-mapping>
      <servlet-name>uploadFile</servlet-name>
      <url-pattern>/uploadFileServlet</url-pattern>
   </servlet-mapping>

   <servlet-mapping>
      <servlet-name>uploadContent</servlet-name>
      <url-pattern>/upload/*</url-pattern>
   </servlet-mapping>

   <servlet-mapping>
      <servlet-name>downloadContent</servlet-name>
      <url-pattern>/download/*</url-pattern>
   </servlet-mapping>

   <servlet-mapping>
      <servlet-name>downloadContent</servlet-name>
      <url-pattern>/d/*</url-pattern>
   </servlet-mapping>

   
   <servlet-mapping>
      <servlet-name>simpleDownloadContent</servlet-name>
      <url-pattern>/simpleDownload/*</url-pattern>
   </servlet-mapping>

   <servlet-mapping>
      <servlet-name>simpleDownloadContent</servlet-name>
      <url-pattern>/sd/*</url-pattern>
   </servlet-mapping>

   <servlet-mapping>
      <servlet-name>downloadRawContent</servlet-name>
      <url-pattern>/dr</url-pattern>
   </servlet-mapping>

   <servlet-mapping>
      <servlet-name>bulkDownloadContent</servlet-name>
      <url-pattern>/bulkDownload/*</url-pattern>
   </servlet-mapping>

   <servlet-mapping>
      <servlet-name>guestDownloadContent</servlet-name>
      <url-pattern>/guestDownload/*</url-pattern>
   </servlet-mapping>

   <servlet-mapping>
      <servlet-name>guestDownloadContent</servlet-name>
      <url-pattern>/gd/*</url-pattern>
   </servlet-mapping>

   <servlet-mapping>
      <servlet-name>templateContent</servlet-name>
      <url-pattern>/template/*</url-pattern>
   </servlet-mapping>

   <servlet-mapping>
      <servlet-name>templateContent</servlet-name>
      <url-pattern>/t/*</url-pattern>
   </servlet-mapping>

   <servlet-mapping>
      <servlet-name>guestTemplateContent</servlet-name>
      <url-pattern>/guestTemplate/*</url-pattern>
   </servlet-mapping>

   <servlet-mapping>
      <servlet-name>guestTemplateContent</servlet-name>
      <url-pattern>/gt/*</url-pattern>
   </servlet-mapping>

   <servlet-mapping>
      <servlet-name>externalAccess</servlet-name>
      <url-pattern>/navigate/*</url-pattern>
   </servlet-mapping>

   <servlet-mapping>
      <servlet-name>externalAccess</servlet-name>
      <url-pattern>/n/*</url-pattern>
   </servlet-mapping>

   <servlet-mapping>
      <servlet-name>waiExternalAccess</servlet-name>
      <url-pattern>/w/*</url-pattern>
   </servlet-mapping>

   <servlet-mapping>
      <servlet-name>commandServlet</servlet-name>
      <url-pattern>/command/*</url-pattern>
   </servlet-mapping>

   <servlet-mapping>
      <servlet-name>commandServlet</servlet-name>
      <url-pattern>/c/*</url-pattern>
   </servlet-mapping>

   <servlet-mapping>
      <servlet-name>ajaxServlet</servlet-name>
      <url-pattern>/ajax/*</url-pattern>
   </servlet-mapping>

   <servlet-mapping>
      <servlet-name>axis</servlet-name>

      <url-pattern>/soapapi/*</url-pattern>
   </servlet-mapping>

   <servlet-mapping>
      <servlet-name>CXFServlet</servlet-name>
      <url-pattern>/cmis/*</url-pattern>
   </servlet-mapping>

   <servlet-mapping>
        <servlet-name>WebDAV</servlet-name>
        <url-pattern>/webdav/*</url-pattern>
   </servlet-mapping>

   <servlet-mapping>
      <servlet-name>apiServlet</servlet-name>
      <url-pattern>/service/*</url-pattern>
   </servlet-mapping>

   <servlet-mapping>
      <servlet-name>apiServlet</servlet-name>
      <url-pattern>/s/*</url-pattern>
   </servlet-mapping>

   <servlet-mapping>
      <servlet-name>wcapiServlet</servlet-name>
      <url-pattern>/wcservice/*</url-pattern>
   </servlet-mapping>

   <servlet-mapping>
      <servlet-name>wcapiServlet</servlet-name>
      <url-pattern>/wcs/*</url-pattern>
   </servlet-mapping>

   <servlet-mapping>
      <servlet-name>portalapiServlet</servlet-name>
      <url-pattern>/168service/*</url-pattern>
   </servlet-mapping>

   <servlet-mapping>
      <servlet-name>portalapiServlet</servlet-name>
      <url-pattern>/168s/*</url-pattern>
   </servlet-mapping>

   <servlet-mapping>
      <servlet-name>facebookServlet</servlet-name>
      <url-pattern>/facebook/*</url-pattern>
   </servlet-mapping>

   <servlet-mapping>
      <servlet-name>facebookServlet</servlet-name>
      <url-pattern>/fb/*</url-pattern>
   </servlet-mapping>

   <servlet-mapping>
      <servlet-name>fbapiServlet</servlet-name>
      <url-pattern>/fbservice/*</url-pattern>
   </servlet-mapping>

   <servlet-mapping>
      <servlet-name>fbapiServlet</servlet-name>
      <url-pattern>/fbs/*</url-pattern>
   </servlet-mapping>

<!--    <servlet-mapping> -->
<!--       <servlet-name>JBPMDeployProcessServlet</servlet-name> -->
<!--       <url-pattern>/jbpm/deployprocess</url-pattern> -->
<!--    </servlet-mapping> -->

   <servlet-mapping>
      <servlet-name>workflowDefinitionImageServlet</servlet-name>
      <url-pattern>/workflowdefinitionimage/*</url-pattern>
   </servlet-mapping>
	
	<!--  weblogic -->
	<!--  Dispatcher for ecas authentication -->
    <servlet-mapping>
        <servlet-name>PostFormAuthDispatcher</servlet-name>
        <url-pattern>/ecas/login</url-pattern>
    </servlet-mapping>
	
    <servlet-mapping>
        <servlet-name>notifySuccessServlet</servlet-name>
        <url-pattern>/notifySuccess</url-pattern>
    </servlet-mapping>
    
    <servlet-mapping>
        <servlet-name>notifyErrorServlet</servlet-name>
        <url-pattern>/notifyError</url-pattern>
    </servlet-mapping>

   <!-- The cmisbrowser endpoint is provided by the Chemistry project.
        If you uncomment this section you need to make sure for security
		reasons that that you have a firewall set up so that it is not
		accessible from outside of the organisation.
   <servlet-mapping>
      <servlet-name>CMISFileShareServlet</servlet-name>
      <url-pattern>/cmisbrowser</url-pattern>
   </servlet-mapping>
   -->

   <servlet-mapping>
      <servlet-name>cmisws10</servlet-name>
      <url-pattern>/cmisws/*</url-pattern>
   </servlet-mapping>

   <servlet-mapping>
      <servlet-name>cmisatom10</servlet-name>
      <url-pattern>/cmisatom/*</url-pattern>
   </servlet-mapping>

   <servlet-mapping>
      <servlet-name>cmisbrowser</servlet-name>
      <url-pattern>/cmisbrowser/*</url-pattern>
   </servlet-mapping>

   <servlet-mapping>
      <servlet-name>publicapiServlet</servlet-name>
      <url-pattern>/api/*</url-pattern>
   </servlet-mapping>
    
   <!-- The CMIS TCK is deactivated by default. -->
   <!-- CMISTCK
   <servlet-mapping>
      <servlet-name>cmistck</servlet-name>
      <url-pattern>/cmistck</url-pattern>
   </servlet-mapping>
   CMISTCK -->
   
   <session-config>
      <session-timeout>60</session-timeout>
   </session-config>

<!--    <welcome-file-list> -->
<!--       <welcome-file>index.jsp</welcome-file> -->
<!--    </welcome-file-list> -->

<!--    <error-page> -->
<!--       <exception-type>java.lang.Exception</exception-type> -->
<!--       <location>/jsp/error.jsp</location> -->
<!--    </error-page> -->

   <resource-ref>
      <description>The Alfresco database connection</description>
      <res-ref-name>jdbc/dataSource</res-ref-name>
      <res-type>javax.sql.DataSource</res-type>
      <res-auth>Container</res-auth>
      <res-sharing-scope>Unshareable</res-sharing-scope>
   </resource-ref>

   <resource-ref>
      <description>The Alfresco Activit's ID-generator database connection</description>
      <res-ref-name>jdbc/activitiIdGeneratorDataSource</res-ref-name>
      <res-type>javax.sql.DataSource</res-type>
      <res-auth>Container</res-auth>
      <res-sharing-scope>Unshareable</res-sharing-scope>
   </resource-ref> 

   <resource-ref>
      <description>The Circabc Audit database connection</description>
      <res-ref-name>jdbc/auditDataSource</res-ref-name>
      <res-type>javax.sql.DataSource</res-type>
      <res-auth>Container</res-auth>
      <res-sharing-scope>Unshareable</res-sharing-scope>
   </resource-ref>

   <!-- Toggle securecomms placeholder start -->
<!--    
   <security-constraint>
      <web-resource-collection>
         <web-resource-name>SOLR</web-resource-name>
         <url-pattern>/service/api/solr/*</url-pattern>
      </web-resource-collection>

      <auth-constraint>
         <role-name>repoclient</role-name>
      </auth-constraint>

      <user-data-constraint>
         <transport-guarantee>CONFIDENTIAL</transport-guarantee>
      </user-data-constraint>
   </security-constraint>

   <security-constraint>
      <web-resource-collection>
         <web-resource-name>SOLR</web-resource-name>
         <url-pattern>/s/api/solr/*</url-pattern>
      </web-resource-collection>

      <auth-constraint>
         <role-name>repoclient</role-name>
      </auth-constraint>

      <user-data-constraint>
         <transport-guarantee>CONFIDENTIAL</transport-guarantee>
      </user-data-constraint>
   </security-constraint>
   
   <security-constraint>
      <web-resource-collection>
         <web-resource-name>SOLR</web-resource-name>
         <url-pattern>/wcservice/api/solr/*</url-pattern>
      </web-resource-collection>

      <auth-constraint>
         <role-name>repoclient</role-name>
      </auth-constraint>

      <user-data-constraint>
         <transport-guarantee>CONFIDENTIAL</transport-guarantee>
      </user-data-constraint>
   </security-constraint>
   
   <security-constraint>
      <web-resource-collection>
         <web-resource-name>SOLR</web-resource-name>
         <url-pattern>/wcs/api/solr/*</url-pattern>
      </web-resource-collection>

      <auth-constraint>
         <role-name>repoclient</role-name>
      </auth-constraint>

      <user-data-constraint>
         <transport-guarantee>CONFIDENTIAL</transport-guarantee>
      </user-data-constraint>
   </security-constraint>
   
   <login-config>
      <auth-method>CLIENT-CERT</auth-method>
      <realm-name>Repository</realm-name>
   </login-config>

   <security-role>
     <role-name>repoclient</role-name>
   </security-role>
-->
   <!-- Toggle securecomms placeholder end -->
   
   <env-entry>
      <description>A flag that globally enables or disables startup of the major Alfresco subsystems.</description>
      <env-entry-name>properties/startup.enable</env-entry-name>
      <env-entry-type>java.lang.Boolean</env-entry-type>
      <env-entry-value>true</env-entry-value>
   </env-entry>

   <env-entry>
      <description>The filesystem directory below which content and index data is stored. Should be on a shared disk
         if this is a clustered installation.</description>
      <env-entry-name>properties/dir.root</env-entry-name>
      <env-entry-type>java.lang.String</env-entry-type>
      <env-entry-value/> <!-- Empty value included for JBoss compatibility -->
   </env-entry>

   <env-entry>
      <description>The fully qualified name of a org.hibernate.dialect.Dialect subclass that allows Hibernate to
         generate SQL optimized for a particular relational database. Choose from org.hibernate.dialect.DerbyDialect,
         org.hibernate.dialect.MySQLInnoDBDialect,
         org.alfresco.repo.domain.hibernate.dialect.AlfrescoOracle9Dialect,
         org.alfresco.repo.domain.hibernate.dialect.AlfrescoSybaseAnywhereDialect,
         org.alfresco.repo.domain.hibernate.dialect.AlfrescoSQLServerDialect, org.hibernate.dialect.PostgreSQLDialect</description>
      <env-entry-name>properties/hibernate.dialect</env-entry-name>
      <env-entry-type>java.lang.String</env-entry-type>
      <env-entry-value/> <!-- Empty value included for JBoss compatibility -->
   </env-entry>

   <env-entry>
      <description>Mapping from tokens in Hibernate queries to SQL tokens. For PostgreSQL, set this to "true
         TRUE, false FALSE".</description>
      <env-entry-name>properties/hibernate.query.substitutions</env-entry-name>
      <env-entry-type>java.lang.String</env-entry-type>
      <env-entry-value/> <!-- Empty value included for JBoss compatibility -->
   </env-entry>

   <env-entry>
      <description>Enable use of JDBC3 PreparedStatement.getGeneratedKeys() to retrieve natively generated keys
         after insert. Requires JDBC3+ driver. Set to false if your driver has problems with the Hibernate identifier
         generators. By default, tries to determine the driver capabilities using connection metadata. </description>
      <env-entry-name>properties/hibernate.jdbc.use_get_generated_keys</env-entry-name>
      <env-entry-type>java.lang.String</env-entry-type>
      <env-entry-value/> <!-- Empty value included for JBoss compatibility -->
   </env-entry>

   <env-entry>
      <description>Qualify unqualified table names with the given schema/tablespace in generated SQL. It may be
         necessary to set this when the target database has more than one schema.</description>
      <env-entry-name>properties/hibernate.default_schema</env-entry-name>
      <env-entry-type>java.lang.String</env-entry-type>
      <env-entry-value/> <!-- Empty value included for JBoss compatibility -->
   </env-entry>
   
   <jsp-config>
      <taglib>
         <taglib-uri>http://alfresco.com/alfresco</taglib-uri>
         <taglib-location>/WEB-INF/alfresco.tld</taglib-location>
      </taglib>

      <taglib>
         <taglib-uri>http://alfresco.com/wcm</taglib-uri>
         <taglib-location>/WEB-INF/wcm.tld</taglib-location>
      </taglib>
   </jsp-config>

	<welcome-file-list>
    	<welcome-file>/jsp/extension/home.jsp</welcome-file>
	</welcome-file-list>

   <error-page>
      <exception-type>java.lang.Exception</exception-type>
      <location>/jsp/extension/wai/error/error-redirect.jsp</location>
   </error-page>

	<!-- Start of: Only for ECAS on tomcat/weblogic -->
    <security-constraint>
        <!-- Define here the redirection page after login successfull -->
        <web-resource-collection>
            <web-resource-name>ecas</web-resource-name>
            <url-pattern>/faces/jsp/extension/wai/ecas/ecaslogin.jsp</url-pattern>
            <url-pattern>/eulogin</url-pattern>
<!--            <url-pattern>/faces/jsp/extension/wai/multifactor.jsp</url-pattern> -->
<!--             <url-pattern>/faces/jsp/login.jsp</url-pattern> -->
            <http-method>GET</http-method>
            <http-method>POST</http-method>
        </web-resource-collection>
        <!-- Allow to this role -->
        <auth-constraint>
            <description>
                Requires users to be authenticated but
                does not require them to be authorized.
            </description>
            <role-name>*</role-name>
        </auth-constraint>
        <!-- No secure connection -->
        <user-data-constraint>
            <transport-guarantee>NONE</transport-guarantee>
        </user-data-constraint>
    </security-constraint>

    <!-- Define the ecas login form -->
	<!-- tomcat -->
<!--     <login-config> -->
<!--         <auth-method>ECAS</auth-method> -->
<!--         <realm-name>ecas Realm</realm-name> -->
<!--     </login-config> -->

	<!-- weblogic -->
    <login-config>
        <auth-method>FORM</auth-method>
        <realm-name>ecas Realm</realm-name>
        <form-login-config>
            <!-- Link to the dispatcher -->
            <form-login-page>/ecas/login</form-login-page>
            <form-error-page>/jsp/error.jsp</form-error-page>
        </form-login-config>
    </login-config>

    <!-- role: ecasrole -->
    <security-role>
        <description>Role to allow authentication</description>
        <role-name>ecasrole</role-name>
    </security-role>

    <!--  End of:  Only for ECAS on tomcat/weblogic    -->


	 <servlet>
      <servlet-name>restContentDownload</servlet-name>
      <servlet-class>eu.cec.digit.circabc.web.servlet.RestContentDownloadServlet</servlet-class>
   </servlet>

	<servlet-mapping>
     <servlet-name>restContentDownload</servlet-name>
     <url-pattern>/rest/download/*</url-pattern>
   </servlet-mapping>
   
   <servlet>
      <servlet-name>restContentUpload</servlet-name>
      <servlet-class>eu.cec.digit.circabc.web.servlet.RestContentUploadServlet</servlet-class>
   </servlet>

	<servlet-mapping>
     <servlet-name>restContentUpload</servlet-name>
     <url-pattern>/rest/upload/*</url-pattern>
   </servlet-mapping>
   
   <servlet>
      <servlet-name>restContentUpdate</servlet-name>
      <servlet-class>eu.cec.digit.circabc.web.servlet.RestContentUpdateServlet</servlet-class>
   </servlet>

	<servlet-mapping>
     <servlet-name>restContentUpdate</servlet-name>
     <url-pattern>/rest/update/*</url-pattern>
   </servlet-mapping>
   
</web-app>