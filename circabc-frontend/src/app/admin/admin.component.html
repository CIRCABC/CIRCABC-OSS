<cbc-header />
<cbc-navigator />
@if (loading) {
<cbc-horizontal-loader />
}
<div class="fluid admin page-container">
  <div class="page-header">
    <span class="page-header__title"
      >{{ 'admin.header.title' | transloco }}</span
    >
    <div class="page-header__actions">
      @if (isCircabcRoute() && isAdmin()) {
      <a
        tabindex="0"
        data-cy="add-circabc"
        class="cta cta--plus"
        (click)="showCreateCircabc.set(true)"
        >{{ 'admin.invite.circabc.admin' | transloco }}</a
      >
      } @if (isHeadersRoute() && isAdmin()) {
      <a
        tabindex="0"
        data-cy="add-header"
        class="cta cta--plus"
        (click)="addHeader()"
        >{{ 'admin.header.add' | transloco }}</a
      >
      } @if (isHeadersRoute() && isCircabcAdmin()) {
      <a
        tabindex="0"
        data-cy="add-category"
        class="cta cta--plus"
        (click)="showCreateCategory.set(true)"
        >{{ 'admin.category.create' | transloco }}</a
      >
      }
    </div>
  </div>
  <section class="box box--tabs">
    @if (isHeadersRoute()) {
    <ul class="header">
      @if (isAdmin()) {
      <li>
        <a
          class="tab"
          [class.tab--current]="isHeadersRoute()"
          [routerLink]="['headers']"
        >
          <img
            src="img/category-headers.png"
            height="20"
            width="20"
            alt="Category Headers"
          />
          <span class="tab-text">{{ 'admin.tab.headers' | transloco }}</span>
        </a>
      </li>
      }
    </ul>
    }
    <cbc-add-header
      [(showModal)]="showAddHeaderModal"
      (showModalChange)="loadHeaders()"
    >
    </cbc-add-header>
    <cbc-create-category
      [(showModal)]="showCreateCategory"
    ></cbc-create-category>
    @if (isCircabcRoute()) {
    <ul class="header">
      @if (isAdmin()) {
      <li>
        <a
          class="tab"
          [class.tab--current]="isCircabcRoute()"
          [routerLink]="['circabc']"
        >
          <img
            src="img/category-headers.png"
            height="20"
            width="20"
            alt="Category Headers"
          />
          <span class="tab-text">{{ 'label.circabc.admins' | transloco }}</span>
        </a>
      </li>
      }
    </ul>
    }
    <cbc-create-circabc [(showModal)]="showCreateCircabc"></cbc-create-circabc>
    <div class="main">
      <router-outlet></router-outlet>
    </div>
  </section>
</div>
