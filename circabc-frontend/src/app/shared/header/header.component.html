<!-- MENU -->
<cbc-environment-ribbon />
<div class="main-header">
  <div class="header-left-side">
    <a class="home-link" [routerLink]="isGuest() ? ['/welcome'] : ['/me']">
      <cbc-ec-logo-app></cbc-ec-logo-app>
    </a>
    <span class="app-message-container">
      <cbc-system-message-indicator></cbc-system-message-indicator>
    </span>
  </div>

  @if (isSearchVisible()) {
  <div class="header-search-bar">
    <cbc-search-bar
      [groupId]="getGroupId()"
      [forExplorer]="isExplorerContext() || isHelpContext()"
      (searchHit)="propagateSearch($event)"
      (renewSearchHit)="propagateSearch($event)"
    ></cbc-search-bar>
  </div>
  }

  <div class="header-right-side">
    <cbc-personal-menu></cbc-personal-menu>
    <cbc-lang-selector
      [currentLang]="currentLang"
      (changedLang)="refreshUILang($event)"
      [compactMode]="true"
    ></cbc-lang-selector>
  </div>
</div>
